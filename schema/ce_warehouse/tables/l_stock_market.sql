/*
 ***********************************************************************************************************
 * @file
 * l_stock_market.sql
 *
 * Lookup table - central bank lookup.
 ***********************************************************************************************************
 */

-- DROP TABLE IF EXISTS ce_warehouse.l_stock_market;

CREATE TABLE IF NOT EXISTS ce_warehouse.l_stock_market
(
    pk_stock_market SMALLINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,

    name TEXT NOT NULL
        CHECK (ce_warehouse.fx_val__is_name(name) IS NULL),
    short_code TEXT NOT NULL
        CHECK (short_code ~ '^[A-Z]' AND ce_warehouse.fx_val__is_text(short_code) IS NULL),

    PRIMARY KEY (pk_stock_market),
    UNIQUE (name)
);

COMMENT ON TABLE ce_warehouse.l_stock_market
    IS 'Lookup table - stock market lookup';

/**
 * Pre-populate with known values. Update as required.
 */
INSERT INTO ce_warehouse.l_stock_market (name, short_code)
VALUES
    ('Abu Dhabi Securities Exchange', 'ADX'),
    ('Afghanistan Stock Exchange', 'AFSE'),
    ('Amman Stock Exchange', 'ASE'),
    ('Andorra Stock Exchange', 'BDCA'),
    ('Athens Stock Exchange', 'ATHEX'),
    ('Australian Securities Exchange', 'S&P/ASX 200'),
    ('B3 (Brasil Bolsa Balcao)', 'Bovespa'),
    ('Bahrain Bourse', 'BHB'),
    ('Bahamas International Securities Exchange', 'BISX'),
    ('Baku Stock Exchange', 'BSE'),
    ('Barbados Stock Exchange', 'BSE'),
    ('Beirut Stock Exchange', 'BSE'),
    ('Belarusian Currency and Stock Exchange', 'BCSE'),
    ('Belgrade Stock Exchange', 'BELEX'),
    ('Bolsa Centroamericana de Valores', 'BCV'),
    ('Bolsa Nacional de Valores', 'BNCR'),
    ('Bolsa de Divida e Valores de Angola', 'BODIVA'),
    ('Bolsa de Madrid', 'BME'),
    ('Bolsa de Valores Nacional', 'B&V'),
    ('Bolsa de Valores de El Salvador', 'BVES'),
    ('Bolsa de Valores de Montevideo', 'BVMB'),
    ('Bolsa de Valores de Nicaragua', 'BVDN'),
    ('Bolsa de Valores de Panama', 'BVPSA'),
    ('Bolsa de Valores de la Republica Dominicana', 'BVRD'),
    ('Bolsa de Valores y Productos de Asuncion', 'BVPASA'),
    ('Bombay Stock Exchange', 'Sensex'),
    ('Botswana Stock Exchange', 'BSE'),
    ('Bratislava Stock Exchange', 'BSSE'),
    ('Bucharest Stock Exchange', 'BVB'),
    ('Budapest Stock Exchange', 'BSE'),
    ('Buenos Aires Stock Exchange', 'BYMA'),
    ('Bulgarian Stock Exchange', 'BSE'),
    ('Bursa Malaysia', 'MYX'),
    ('Bourse d''Alger', 'BAX'),
    ('Bourse de Tunis', 'BVMT'),
    ('CAC 40', 'Euronext'),
    ('Cambodia Securities Exchange', 'CSX'),
    ('Cape Verde Stock Exchange', 'BVC'),
    ('Caracas Stock Exchange', 'CSE'),
    ('Casablanca Stock Exchange', 'BVC'),
    ('Cayman Islands Stock Exchange', 'CSX'),
    ('Colombia Stock Exchange', 'BVC'),
    ('Colombo Stock Exchange', 'CSE'),
    ('Cyprus Stock Exchange', 'CSE'),
    ('Dar es Salaam Stock Exchange', 'DSE'),
    ('Dhaka Stock Exchange', 'DSE'),
    ('Douala Stock Exchange', 'DSX'),
    ('Eastern Caribbean Securities Exchange', 'ECSE'),
    ('Egyptian Exchange', 'EGX 30'),
    ('Ethiopia Commodity Exchange', 'ECX'),
    ('Euronext Amsterdam', 'Euronext'),
    ('Euronext Brussels', 'Euronext'),
    ('Euronext Dublin', 'Euronext'),
    ('Euronext Lisbon', 'Euronext'),
    ('Frankfurt Stock Exchange', 'DAX 30'),
    ('Georgian Stock Exchange', 'GSE'),
    ('Ghana Stock Exchange', 'GSE'),
    ('Guyana Association of Securities Companies and Intermediaries (GASCI)', 'GASCI'),
    ('Haitian Stock Exchange', 'HSE'),
    ('Ho Chi Minh Stock Exchange', 'HOSE'),
    ('Hong Kong Stock Exchange', 'HKEX'),
    ('Indonesia Stock Exchange', 'IDX'),
    ('Iraq Stock Exchange', 'ISX'),
    ('Jamaica Stock Exchange', 'JSE'),
    ('Johannesburg Stock Exchange', 'JALSH'),
    ('Kazakhstan Stock Exchange', 'KASE'),
    ('Korea Exchange', 'KRX'),
    ('Kyrgyz Stock Exchange', 'KSE'),
    ('Lao Securities Exchange', 'LSE'),
    ('Lima Stock Exchange', 'BVL'),
    ('Ljubljana Stock Exchange', 'LJSE'),
    ('London Stock Exchange', 'FTSE 100'),
    ('Lusaka Securities Exchange', 'LuSE'),
    ('Luxembourg Stock Exchange', 'LuxSE'),
    ('Macedonian Stock Exchange', 'MSE'),
    ('Malawi Stock Exchange', 'MSE'),
    ('Malta Stock Exchange', 'MSE'),
    ('Mexican Stock Exchange', 'Bolsa'),
    ('Moldova Stock Exchange', 'MSE'),
    ('Mongolian Stock Exchange', 'MSE'),
    ('Montenegro Stock Exchange', 'MNSE'),
    ('Moscow Exchange', 'MOEX'),
    ('MSCI EM ($ basis)', 'MSCI EM ($ basis)'),
    ('Muscat Securities Market', 'MSM'),
    ('NASDAQ Copenhagen', 'NASDAQ'),
    ('NASDAQ Helsinki', 'NASDAQ'),
    ('NASDAQ Iceland', 'NASDAQ'),
    ('NASDAQ OMX Armenia', 'NASDAQ'),
    ('NASDAQ Stockholm', 'NASDAQ'),
    ('Nairobi Securities Exchange', 'NSE'),
    ('Namibian Stock Exchange', 'NSX'),
    ('Nasdaq Riga', 'NSE'),
    ('Nasdaq Tallinn', 'TALSE'),
    ('Nasdaq Vilnius', 'NSE'),
    ('New York Stock Exchange', 'S&P 500'),
    ('New Zealand Stock Exchange', 'NZX'),
    ('Nigerian Stock Exchange', 'NGSE'),
    ('Oslo Stock Exchange', 'OSE'),
    ('Pakistan Stock Exchange', 'PSX'),
    ('Palestine Exchange', 'PEX'),
    ('Philippine Stock Exchange', 'PSE'),
    ('Port Moresby Stock Exchange', 'POMSoX'),
    ('Prague Stock Exchange', 'PSE'),
    ('Qatar Stock Exchange', 'QSE'),
    ('Quito Stock Exchange', 'QSE'),
    ('Regional Stock Exchange of West Africa', 'BRVM'),
    ('Republican Stock Exchange of Uzbekistan', 'UZSE'),
    ('Rwanda Stock Exchange', 'RSE'),
    ('Santiago Stock Exchange', 'BCS'),
    ('Sarajevo Stock Exchange', 'SASE'),
    ('Shanghai Stock Exchange', 'CSI 300'),
    ('Singapore Exchange', 'SGX'),
    ('SIX Swiss Exchange', 'SIX'),
    ('South Pacific Stock Exchange', 'SPX'),
    ('Stock Exchange of Mauritius', 'SEM'),
    ('Stock Exchange of Thailand', 'SET'),
    ('Tadawul', 'TASI'),
    ('Taiwan Stock Exchange', 'TWSE'),
    ('Tajikistan Stock Exchange', 'TSX'),
    ('Tehran Stock Exchange', 'TSE'),
    ('Tel Aviv Stock Exchange', 'TASE'),
    ('Tirana Stock Exchange', 'TSE'),
    ('Tokyo Stock Exchange', 'TOPIX'),
    ('Toronto Stock Exchange', 'S&P/TSX'),
    ('Trinidad and Tobago Stock Exchange', 'TTSE'),
    ('Uganda Securities Exchange', 'USE'),
    ('Ukrainian Exchange', 'UX'),
    ('Vatican City Stock Exchange', 'VCSE'),
    ('Vienna Stock Exchange', 'WBAG'),
    ('Warsaw Stock Exchange', 'GPW'),
    ('Yangon Stock Exchange', 'YSX'),
    ('Zagreb Stock Exchange', 'ZSE'),
    ('Zimbabwe Stock Exchange', 'ZSE');
