/*
 ***********************************************************************************************************
 * @file
 * source.sql
 *
 * Lookup table - source lookup.
 *
 * NOTE, unlike the other lookup tables where the INT primary key is used in the linked tables, this is
 * basically an annotation table where the code value is used in associated table (e.g. x_api); and as such
 * the PRIMARY KEY here can be auto-generated (used in PowerBi only).
 ***********************************************************************************************************
 */

-- DROP TABLE IF EXISTS ce_core.source;

CREATE TABLE IF NOT EXISTS ce_core.source
(
    code TEXT NOT NULL,
    name TEXT NOT NULL,
    active BOOLEAN NOT NULL DEFAULT TRUE,  -- enables the source to be marked as inactive if required
    calc_code TEXT,  -- Nominated target code for calculated series (e.g. 'XBLS' for Calculated Bureau)
    source_is CHAR(1) NOT NULL DEFAULT 'A'
        CHECK (source_is IN ('A', 'M', 'B', '-')),  -- A=Api/M=Manual/B=Both/-=None
    api_available BOOLEAN NOT NULL DEFAULT TRUE,  -- this is used to determine if the source is available for API calls (@see plugin)
    pk_src INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY
);

CREATE UNIQUE INDEX IF NOT EXISTS idx_source__code
    ON ce_core.source (code);

COMMENT ON TABLE ce_core.source
    IS 'System table - source lookup';

/**
 * Pre-populate with known values. This will only change if new data sources are added!!!
 */
INSERT INTO ce_core.source (code, name, calc_code, source_is, api_available)
VALUES
    ('BLS','U.S. Bureau of Labour Statistics', 'XBLS', 'A', TRUE),
    ('DS','LSEG Data & Analytics', 'XDS', 'A', FALSE),
    ('DX', 'API Calc', 'XDX', '-', TRUE),
    ('M','Manual', 'XM', 'M', TRUE),
    -- Calculated types
    ('XBLS','Calculated', NULL, '-', TRUE),
    ('XDS','Calculated', NULL, '-', TRUE),
    ('XDX', 'Calculated', NULL, '-', TRUE),
    ('XM','Calculated', NULL, '-', TRUE),
    ('XX', 'Calculated', NULL, '-', TRUE);

-- User supplied codes.
INSERT INTO ce_core.source (code, name, calc_code, source_is, api_available)
VALUES
    ('ABS', 'Australian Bureau of Statistics', 'XX', 'B', TRUE),
    ('AENBS', 'National Bureau of Statistics, United Arab Emirates', 'XX', 'B', TRUE),
    ('AOBNA', 'BNA - Banco Nacional de Angola', 'XX', 'B', TRUE),
    ('AOINE', 'Instituto Nacional de Estatistica de Angola', 'XX', 'B', TRUE),
    ('ARMDE', 'Ministerio de Hacienda, Argentina', 'XX', 'B', TRUE),
    ('ATSA', 'Statistics Austria', 'XX', 'B', TRUE),
    ('AUNAB', 'National Australia Bank', 'XX', 'B', TRUE),
    ('BBG', 'Bloomberg', 'XX', 'B', TRUE),
    ('BCCR', 'Central Bank of Costa Rica', 'XX', 'B', TRUE),
    ('BCRA', 'BCRA - Central Bank of Argentina', 'XX', 'B', TRUE),
    ('BCRD', 'Central Bank of Dominican Republic', 'XX', 'B', TRUE),
    ('BCRP', 'Central Reserve Bank of Peru', 'XX', 'B', TRUE),
    ('BDBB', 'Bangladesh Bank', 'XX', 'B', TRUE),
    ('BDBBS', 'Bangladesh Bureau of Statistics', 'XX', 'B', TRUE),
    ('BEA', 'U.S. Bureau of Economic Analysis', 'XX', 'B', TRUE),
    ('BENBB', 'National Bank of Belgium', 'XX', 'B', TRUE),
    ('BESB', 'Statistics Belgium', 'XX', 'B', TRUE),
    ('BGBNB', 'Bulgarian National Bank', 'XX', 'B', TRUE),
    ('BGNSI', 'National Statistical Institute of Bulgaria', 'XX', 'B', TRUE),
    ('BHIGA', 'eGovernment Authority, Bahrain', 'XX', 'B', TRUE),
    ('BIS', 'Bank for International Settlements', 'XX', 'B', TRUE),
    ('BOC', 'Bank of Canada', 'XX', 'B', TRUE),
    ('BOE', 'Bank of England', 'XX', 'B', TRUE),
    ('BOINE', 'Instituto Nacional de Estadistica, Bolivia', 'XX', 'B', TRUE),
    ('BOJ', 'Bank of Japan', 'XX', 'B', TRUE),
    ('BRBCB', 'Banco Central do Brasil', 'XX', 'B', TRUE),
    ('BRSA', 'Banking Regulation and Supervision Agency, Turkey', 'XX', 'B', TRUE),
    ('BTEI', 'Bureau of Trade and Economic Indices, Ministry of Commerce, Thailand', 'XX', 'B', TRUE),
    ('BWSB', 'Statistics Botswana', 'XX', 'B', TRUE),
    ('CBRT', 'Central Bank of the Republic of Turkey', 'XX', 'B', TRUE),
    ('CBSL', 'Central Bank of Sri Lanka', 'XX', 'B', TRUE),
    ('CHFSO', 'Federal Statistical Office, Switzerland', 'XX', 'B', TRUE),
    ('CIINS', 'Institut National de la Statistique, Ivory Coast', 'XX', 'B', TRUE),
    ('CLCBC', 'Central Bank of Chile', 'XX', 'B', TRUE),
    ('CLINE', 'National Institute of Statistics, Chile', 'XX', 'B', TRUE),
    ('CNMOF', 'Ministry of Finance People s Republic of China', 'XX', 'B', TRUE),
    ('CNNEA', 'National Energy Administration, China', 'XX', 'B', TRUE),
    ('CNSAF', 'State Administration of Foreign Exchange, China', 'XX', 'B', TRUE),
    ('COBR', 'Banco de la Republica, Colombia', 'XX', 'B', TRUE),
    ('CYSS', 'Statistical Service of the Republic of Cyprus', 'XX', 'B', TRUE),
    ('CZCNB', 'Czech National Bank', 'XX', 'B', TRUE),
    ('CZCSU', 'Czech Statistical Office', 'XX', 'B', TRUE),
    ('DANE', 'The National Administrative Department of Statistics (DANE), Colombia', 'XX', 'B', TRUE),
    ('DEBA', 'Bundesagentur fur Arbeit, Germany', 'XX', 'B', TRUE),
    ('DEBBK', 'Deutsche Bundesbank', 'XX', 'B', TRUE),
    ('DEFSO', 'Federal Statistical Office, Germany', 'XX', 'B', TRUE),
    ('DGBAS', 'Directorate-General of Budget, Accounting and Statistics, Executive Yuan', 'XX', 'B', TRUE),
    ('DKSD', 'Statistics Denmark', 'XX', 'B', TRUE),
    ('DZBOA', 'Banque d Algerie', 'XX', 'B', TRUE),
    ('DZONS', 'National Office of Statistics, Algeria', 'XX', 'B', TRUE),
    ('ECBCE', 'Banco Central del Ecuador', 'XX', 'B', TRUE),
    ('ECB', 'European Central Bank (ECB)', 'XX', 'B', TRUE),
    ('EESE', 'Statistics Estonia', 'XX', 'B', TRUE),
    ('EGCAP', 'CAPMAS - Central Agency for Public Mobilization And Statistics, Egypt', 'XX', 'B', TRUE),
    ('EGCBE', 'Central Bank of Egypt', 'XX', 'B', TRUE),
    ('EGMOP', 'Ministry of Planning, Egypt', 'XX', 'B', TRUE),
    ('ESBDE', 'Banco de Espana', 'XX', 'B', TRUE),
    ('ESINE', 'National Statistics Institute, Spain', 'XX', 'B', TRUE),
    ('ESMEH', 'Ministry of the Economy and Finance, Spain', 'XX', 'B', TRUE),
    ('ESTAT', 'Eurostat', 'XX', 'B', TRUE),
    ('ETESS', 'Ethiopian Statistical Service', 'XX', 'B', TRUE),
    ('ETNBE', 'National Bank of Ethiopia', 'XX', 'B', TRUE),
    ('FEDAT', 'Federal Reserve Bank of Atlanta', 'XX', 'B', TRUE),
    ('FEDCL', 'Federal Reserve Bank of Cleveland', 'XX', 'B', TRUE),
    ('FED', 'Federal Reserve', 'XX', 'B', TRUE),
    ('FHLMC', 'Freddie Mac', 'XX', 'B', TRUE),
    ('FISF', 'Statistics Finland', 'XX', 'B', TRUE),
    ('FRBDF', 'Banque de France', 'XX', 'B', TRUE),
    ('GACC', 'China Customs', 'XX', 'B', TRUE),
    ('GASTAT', 'General Authority for Statistics, Saudi Arabia', 'XX', 'B', TRUE),
    ('GBCLG', 'Ministry of Housing, Communities and Local Government, UK', 'XX', 'B', TRUE),
    ('GBINS', 'The Insolvency Service, United Kingdom', 'XX', 'B', TRUE),
    ('GDVC', 'General Department of Vietnam Customs', 'XX', 'B', TRUE),
    ('GHBOG', 'Bank of Ghana', 'XX', 'B', TRUE),
    ('GHGSS', 'Ghana Statistical Services', 'XX', 'B', TRUE),
    ('GRHSA', 'National Statistical Service of Greece', 'XX', 'B', TRUE),
    ('HCSO', 'Hungarian Central Statistical Office', 'XX', 'B', TRUE),
    ('HKCSD', 'Census and Statistics Department, Hong Kong', 'XX', 'B', TRUE),
    ('HMCE', 'HM Customs and Excise, UK', 'XX', 'B', TRUE),
    ('HMLR', 'HM Land Registry, UK', 'XX', 'B', TRUE),
    ('HRCBS', 'Croatian Bureau of Statistics', 'XX', 'B', TRUE),
    ('HRMOF', 'Ministry of Finance, Republic of Croatia', 'XX', 'B', TRUE),
    ('HUMNB', 'National Bank of Hungary', 'XX', 'B', TRUE),
    ('IBGE', 'IBGE - Instituto Brasileiro de Geografia e Estatistica', 'XX', 'B', TRUE),
    ('IDBI', 'Bank Indonesia', 'XX', 'B', TRUE),
    ('IDBPS', 'Statistics Indonesia', 'XX', 'B', TRUE),
    ('IECSO', 'Central Statistics Office (CSO), Ireland', 'XX', 'B', TRUE),
    ('ILBOI', 'Bank of Israel', 'XX', 'B', TRUE),
    ('ILCBS', 'Central Bureau of Statistics, Israel', 'XX', 'B', TRUE),
    ('IMF', 'IMF', 'XX', 'B', TRUE),
    ('INCSO', 'Central Statistics Office, India', 'XX', 'B', TRUE),
    ('INDEC', 'INDEC - National Institute of Statistics and Censuses, Argentina', 'XX', 'B', TRUE),
    ('INEC', 'INEC, Panama', 'XX', 'B', TRUE),
    ('INEGI', 'INEGI - Instituto Nacional de Estadistica, Geografia e Informatica, Mexico', 'XX', 'B', TRUE),
    ('INEI', 'INEI - Instituto Nacional de Estadistica e Informatica, Peru', 'XX', 'B', TRUE),
    ('INOEA', 'Office of the Economic Adviser to the Government of India', 'XX', 'B', TRUE),
    ('INRBI', 'Reserve Bank of India', 'XX', 'B', TRUE),
    ('INSEE', 'INSEE', 'XX', 'B', TRUE),
    ('ISSI', 'Statistics Iceland', 'XX', 'B', TRUE),
    ('ISTAT', 'Istat', 'XX', 'B', TRUE),
    ('JODOS', 'Department of Statistics of Jordan', 'XX', 'B', TRUE),
    ('JPCBO', 'Cabinet Office, Japan', 'XX', 'B', TRUE),
    ('JPEST', 'Portal Site of Official Statistics of Japan website (https://www.e-stat.go.jp/)', 'XX', 'B', TRUE),
    ('JPFSA', 'Financial Services Agency, Japan', 'XX', 'B', TRUE),
    ('KECBK', 'Central Bank of Kenya', 'XX', 'B', TRUE),
    ('KHNIS', 'National Institute of Statistics, Cambodia', 'XX', 'B', TRUE),
    ('KNBS', 'Kenya National Bureau of Statistics', 'XX', 'B', TRUE),
    ('KOSTAT', 'Statistics Korea (KOSTAT)', 'XX', 'B', TRUE),
    ('KRBOK', 'The Bank of Korea', 'XX', 'B', TRUE),
    ('KWCBK', 'Central Bank of Kuwait', 'XX', 'B', TRUE),
    ('KWCSB', 'Kuwait Central Statistical Bureau', 'XX', 'B', TRUE),
    ('LABOL', 'Bank of the Lao PDR', 'XX', 'B', TRUE),
    ('LBCAS', 'Central Administration for Statistics, Lebanon', 'XX', 'B', TRUE),
    ('LKDCS', 'Department of Census and Statistics, Sri Lanka', 'XX', 'B', TRUE),
    ('LTSDA', 'Statistics Lithuania', 'XX', 'B', TRUE),
    ('LVCSB', 'Central Statistical Bureau, Latvia', 'XX', 'B', TRUE),
    ('LYCBL', 'Central Bank of Libya', 'XX', 'B', TRUE),
    ('MABAM', 'Bank Al-Maghrib, Morocco', 'XX', 'B', TRUE),
    ('MAHCP', 'Haut-Commissariat au plan, Morocco', 'XX', 'B', TRUE),
    ('MMCSO', 'Central Statistical Organization, Myanmar', 'XX', 'B', TRUE),
    ('MOEA', 'Ministry of Economic Affairs, Taiwan', 'XX', 'B', TRUE),
    ('MOFNE', 'Ministry of Finance, Bahrain', 'XX', 'B', TRUE),
    ('MOSPI', 'MOSPI - Ministry of Statistics and Programme Implementation, India', 'XX', 'B', TRUE),
    ('MOTIE', 'Ministry of Trade, Industry and Energy, South Korea', 'XX', 'B', TRUE),
    ('MUSM', 'Statistics Mauritius', 'XX', 'B', TRUE),
    ('MXBDM', 'Banco de Mexico', 'XX', 'B', TRUE),
    ('MYBNM', 'Central Bank of Malaysia', 'XX', 'B', TRUE),
    ('MYDOS', 'Department of Statistics, Malaysia', 'XX', 'B', TRUE),
    ('MZBM', 'Bank of Mozambique', 'XX', 'B', TRUE),
    ('MZINE', 'Instituto Nacional de Estatistica, Mozambique', 'XX', 'B', TRUE),
    ('NABON', 'Bank of Namibia', 'XX', 'B', TRUE),
    ('NANSA', 'Central Bureau of Statistics, Namibia', 'XX', 'B', TRUE),
    ('NBS', 'National Bureau of Statistics of China', 'XX', 'B', TRUE),
    ('NESDC', 'NESDC - Office of the National Economic and Social Development Board, Thailand', 'XX', 'B', TRUE),
    ('NGCBN', 'Central Bank of Nigeria', 'XX', 'B', TRUE),
    ('NGNBS', 'National Bureau of Statistics, Nigeria', 'XX', 'B', TRUE),
    ('NISR', 'National Institute of Statistics of Rwanda', 'XX', 'B', TRUE),
    ('NLCBS', 'CBS - Statistics Netherlands', 'XX', 'B', TRUE),
    ('NLCPB', 'CPB - Netherlands Bureau for Economic Policy Analysis', 'XX', 'B', TRUE),
    ('NONB', 'Norges Bank', 'XX', 'B', TRUE),
    ('NOSSB', 'Statistics Norway', 'XX', 'B', TRUE),
    ('NZSNZ', 'Statistics New Zealand', 'XX', 'B', TRUE),
    ('OECD', 'OECD', 'XX', 'B', TRUE),
    ('OMNCS', 'National Centre For Statistics & Information, Oman', 'XX', 'B', TRUE),
    ('ONS', 'ONS, UK', 'XX', 'B', TRUE),
    ('PBOC', 'People s Bank of China', 'XX', 'B', TRUE),
    ('PEMOP', 'Ministry of Production of Peru', 'XX', 'B', TRUE),
    ('PHBSP', 'Bangko Sentral ng Pilipinas', 'XX', 'B', TRUE),
    ('PHPSA', 'Philippine Statistics Authority', 'XX', 'B', TRUE),
    ('PKPBS', 'Pakistan Bureau of Statistics', 'XX', 'B', TRUE),
    ('PKSBP', 'State Bank of Pakistan', 'XX', 'B', TRUE),
    ('PLGUS', 'Central Statistical Office, Poland', 'XX', 'B', TRUE),
    ('PLNBP', 'National Bank of Poland', 'XX', 'B', TRUE),
    ('PTINE', 'National Institute of Statistics, Portugal', 'XX', 'B', TRUE),
    ('PYBCP', 'Banco Central del Paraguay', 'XX', 'B', TRUE),
    ('QAPSA', 'Planning and Statistics Authority, Qatar', 'XX', 'B', TRUE),
    ('RBA', 'Reserve Bank of Australia', 'XX', 'B', TRUE),
    ('RBNZ', 'Reserve Bank of New Zealand', 'XX', 'B', TRUE),
    ('RICS', 'RICS, UK', 'XX', 'B', TRUE),
    ('RONBR', 'National Bank of Romania', 'XX', 'B', TRUE),
    ('RONIS', 'National Institute of Statistics, Romania', 'XX', 'B', TRUE),
    ('RUCBR', 'The Central Bank of the Russian Federation', 'XX', 'B', TRUE),
    ('RUFSS', 'Federal State Statistics Service, Russia', 'XX', 'B', TRUE),
    ('RWBAM', 'BNR - National Bank of Rwanda', 'XX', 'B', TRUE),
    ('SAMA', 'Saudi Central Bank', 'XX', 'B', TRUE),
    ('SARB', 'South African Reserve Bank', 'XX', 'B', TRUE),
    ('SECO', 'State Secretariat for Economic Affairs (SECO), Switzerland', 'XX', 'B', TRUE),
    ('SERIX', 'Sveriges Riksbank', 'XX', 'B', TRUE),
    ('SESCB', 'Statistics Sweden', 'XX', 'B', TRUE),
    ('SGDOS', 'Statistics Singapore', 'XX', 'B', TRUE),
    ('SGMAS', 'Monetary Authority of Singapore', 'XX', 'B', TRUE),
    ('SGMOM', 'Ministry of Manpower Singapore', 'XX', 'B', TRUE),
    ('SHCP', 'Ministry of Finance and Public Credit, Mexico', 'XX', 'B', TRUE),
    ('SISO', 'Statistical Office of the Republic of Slovenia', 'XX', 'B', TRUE),
    ('SNB', 'Swiss National Bank', 'XX', 'B', TRUE),
    ('SOSR', 'Statistical Office of the Slovak Republic', 'XX', 'B', TRUE),
    ('SSSU', 'State Statistics Service of Ukraine', 'XX', 'B', TRUE),
    ('STATEC', 'STATEC', 'XX', 'B', TRUE),
    ('STCAN', 'Statistics Canada', 'XX', 'B', TRUE),
    ('THBOT', 'Bank of Thailand', 'XX', 'B', TRUE),
    ('THOIE', 'Office of Industrial Economics, Ministry of Industry of Thailand', 'XX', 'B', TRUE),
    ('TNBCT', 'Central Bank of Tunisia', 'XX', 'B', TRUE),
    ('TNINS', 'National Statistics Institute, Tunisia', 'XX', 'B', TRUE),
    ('TUIK', 'TurkStat - Turkish Statistical Institute', 'XX', 'B', TRUE),
    ('TWCBC', 'Central Bank of the Republic of China', 'XX', 'B', TRUE),
    ('TWMOF', 'Ministry of Finance, Taiwan', 'XX', 'B', TRUE),
    ('TWMOI', 'Ministry of the Interior, Taiwan', 'XX', 'B', TRUE),
    ('TZBOT', 'Bank of Tanzania', 'XX', 'B', TRUE),
    ('TZNBS', 'National Bureau of Statistics, Tanzania', 'XX', 'B', TRUE),
    ('UANBU', 'National Bank of Ukraine', 'XX', 'B', TRUE),
    ('UBOS', 'Uganda Bureau of Statistics', 'XX', 'B', TRUE),
    ('UGBOU', 'Bank of Uganda', 'XX', 'B', TRUE),
    ('UKCBI', 'Confederation of British Industry (CBI)', 'XX', 'B', TRUE),
    ('USBFS', 'Bureau of the Fiscal Service, United States', 'XX', 'B', TRUE),
    ('USCBO', 'Congressional Budget Office, United States', 'XX', 'B', TRUE),
    ('USCB', 'U.S. Census Bureau', 'XX', 'B', TRUE),
    ('USDA', 'U.S. Department of Agriculture', 'XX', 'B', TRUE),
    ('USDL', 'U.S. Department of Labor', 'XX', 'B', TRUE),
    ('USDT', 'U.S. Department of the Treasury', 'XX', 'B', TRUE),
    ('UYBCU', 'Banco Central del Uruguay', 'XX', 'B', TRUE),
    ('UYINE', 'Instituto Nacional de Estadistica, Uruguay', 'XX', 'B', TRUE),
    ('VEBCV', 'Banco Central de Venezuela', 'XX', 'B', TRUE),
    ('VNGSO', 'General Statistics Office of Vietnam', 'XX', 'B', TRUE),
    ('WB', 'World Bank', 'XX', 'B', TRUE),
    ('WIFO', 'WIFO - Austrian Institute of Economic Research', 'XX', 'B', TRUE),
    ('ZASSA', 'Statistics South Africa', 'XX', 'B', TRUE),
    ('ZMZSA', 'Central Statistical Office, Zambia', 'XX', 'B', TRUE);
